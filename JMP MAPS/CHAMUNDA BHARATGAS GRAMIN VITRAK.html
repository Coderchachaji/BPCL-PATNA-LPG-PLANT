<!DOCTYPE html>
<html>
<head>
    
    <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
    
        <script>
            L_NO_TOUCH = false;
            L_DISABLE_3D = false;
        </script>
    
    <style>html, body {width: 100%;height: 100%;margin: 0;padding: 0;}</style>
    <style>#map {position:absolute;top:0;bottom:0;right:0;left:0;}</style>
    <script src="https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.js"></script>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap-glyphicons.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.0/css/all.min.css"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/python-visualization/folium/folium/templates/leaflet.awesome.rotate.min.css"/>
    
            <meta name="viewport" content="width=device-width,
                initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
            <style>
                #map_29e5365beb7bb73ff89101fc6c47fbba {
                    position: relative;
                    width: 100.0%;
                    height: 100.0%;
                    left: 0.0%;
                    top: 0.0%;
                }
                .leaflet-container { font-size: 1rem; }
            </style>
        
</head>
<body>
    
    
            <div style="position: fixed; 
                        top: 10px; right: 10px; width: 150px;
                        border:2px solid grey; z-index:9999; font-size:14px;
                        background-color: white;
                        padding: 10px;
                        border-radius: 5px;">
                <h4 style="margin-bottom: 10px;">Legend</h4>
                <div style="margin-bottom: 5px;"><i class="fa fa-plus fa-lg" style="color:red"></i> Hospital</div>
                <div style="margin-bottom: 5px;"><i class="fa fa-shield fa-lg" style="color:blue"></i> Police</div>
                <div style="margin-bottom: 5px;"><i class="fa fa-gas-pump fa-lg" style="color:orange"></i> Gas Station</div>
                <div style="margin-bottom: 5px;"><i class="fa fa-train fa-lg" style="color:purple"></i> Train Station</div>
                <div style="margin-bottom: 5px;"><i class="fa fa-refresh fa-lg" style="color:orange"></i> Turn</div>
                <div style="margin-bottom: 5px;"><i class="fa fa-exclamation-triangle fa-lg" style="color:red"></i> Blind Spot</div>
                <div style="margin-bottom: 5px;"><i class="fa fa-flag fa-lg" style="color:green"></i> Start</div>
                <div><i class="fa fa-flag-checkered fa-lg" style="color:red"></i> End</div>
            </div>
        
    
        <div id="gps-tracking" style="
            position: fixed; 
            top: 10px; 
            right: 10px; 
            background: white; 
            padding: 10px; 
            border: 1px solid #ccc; 
            z-index: 1000; 
            font-family: Arial, sans-serif;
        ">
            <button id="start-tracking" style="
                background-color: green; 
                color: white; 
                border: none; 
                padding: 10px; 
                margin-bottom: 10px;
                cursor: pointer;
            ">Start Tracking</button>
            <div id="gps-status">GPS: Not Connected</div>
            <div id="gps-coordinates"></div>
            <div id="tracking-info"></div>
        </div>
        <script>
        function initGPS() {
            const startButton = document.getElementById('start-tracking');
            const gpsStatus = document.getElementById('gps-status');
            const gpsCoordinates = document.getElementById('gps-coordinates');
            const trackingInfo = document.getElementById('tracking-info');
            let userMarker = null;
            let trackingStarted = false;
            let trackingStartTime = null;
            let totalDistance = 0;
            let previousPosition = null;

            function updateGPSMarker(lat, lon) {
                if (!userMarker) {
                    userMarker = L.marker([lat, lon], {
                        icon: L.divIcon({
                            className: 'custom-gps-marker',
                            html: `<div style="
                                width: 30px; 
                                height: 30px; 
                                background-color: green; 
                                border-radius: 50%; 
                                border: 3px solid white;
                                box-shadow: 0 0 15px rgba(0,255,0,0.5);
                            "></div>`,
                            iconSize: [30, 30],
                            iconAnchor: [15, 15]
                        })
                    }).addTo(map);
                } else {
                    if (previousPosition && trackingStarted) {
                        const distanceMoved = L.latLng([lat, lon]).distanceTo(previousPosition);
                        totalDistance += distanceMoved;
                    }
                    
                    userMarker.setLatLng([lat, lon]);
                    previousPosition = L.latLng([lat, lon]);
                }
                
                map.setView([lat, lon], map.getZoom());
            }

            startButton.addEventListener('click', function() {
                if (!trackingStarted) {
                    trackingStarted = true;
                    trackingStartTime = new Date();
                    startButton.textContent = 'Stop Tracking';
                    startButton.style.backgroundColor = 'red';
                    trackingInfo.innerHTML = 'Tracking started...';
                } else {
                    trackingStarted = false;
                    const trackingDuration = (new Date() - trackingStartTime) / 1000 / 60;
                    trackingInfo.innerHTML = `
                        Tracking stopped<br>
                        Duration: ${trackingDuration.toFixed(2)} minutes<br>
                        Total Distance: ${(totalDistance / 1000).toFixed(2)} km
                    `;
                    startButton.textContent = 'Start Tracking';
                    startButton.style.backgroundColor = 'green';
                }
            });

            if ('geolocation' in navigator) {
                navigator.geolocation.watchPosition(
                    function(position) {
                        const lat = position.coords.latitude;
                        const lon = position.coords.longitude;
                        const accuracy = position.coords.accuracy;

                        updateGPSMarker(lat, lon);
                        
                        gpsStatus.innerHTML = 'GPS: Connected';
                        gpsCoordinates.innerHTML = `
                            Latitude: ${lat.toFixed(6)}<br>
                            Longitude: ${lon.toFixed(6)}<br>
                            Accuracy: ${accuracy.toFixed(2)} meters
                        `;

                        if (trackingStarted) {
                            trackingInfo.innerHTML = `
                                Tracking Active<br>
                                Total Distance: ${(totalDistance / 1000).toFixed(2)} km
                            `;
                        }
                    },
                    function(error) {
                        gpsStatus.innerHTML = `GPS Error: ${error.message}`;
                        console.error('Geolocation error:', error);
                    },
                    {
                        enableHighAccuracy: true,
                        maximumAge: 30000,
                        timeout: 27000
                    }
                );
            } else {
                gpsStatus.innerHTML = 'Geolocation not supported';
            }
        }

        map.whenReady(initGPS);
        </script>
        
    
            <div class="folium-map" id="map_29e5365beb7bb73ff89101fc6c47fbba" ></div>
        
</body>
<script>
    
    
            var map_29e5365beb7bb73ff89101fc6c47fbba = L.map(
                "map_29e5365beb7bb73ff89101fc6c47fbba",
                {
                    center: [25.503382372806914, 85.3163726652772],
                    crs: L.CRS.EPSG3857,
                    zoom: 12,
                    zoomControl: true,
                    preferCanvas: false,
                }
            );

            

        
    
            var tile_layer_d49d0ce8860fa40d010b1b924c65b523 = L.tileLayer(
                "https://tile.openstreetmap.org/{z}/{x}/{y}.png",
                {"attribution": "\u0026copy; \u003ca href=\"https://www.openstreetmap.org/copyright\"\u003eOpenStreetMap\u003c/a\u003e contributors", "detectRetina": false, "maxNativeZoom": 19, "maxZoom": 19, "minZoom": 0, "noWrap": false, "opacity": 1, "subdomains": "abc", "tms": false}
            );
        
    
            tile_layer_d49d0ce8860fa40d010b1b924c65b523.addTo(map_29e5365beb7bb73ff89101fc6c47fbba);
        
    
            var poly_line_8480dcbd8268f8a64f8e824fc7fa3159 = L.polyline(
                [[25.503410434271235, 85.31640007657212], [25.50341, 85.31640310000002], [25.50341, 85.31640310000002], [25.5031078, 85.316346], [25.5029355, 85.31631670000002], [25.5029355, 85.31631670000002], [25.502760266525797, 85.3162880022009], [25.5027572, 85.3162875], [25.502714899999994, 85.3162864], [25.5026765, 85.3162928], [25.502641600000004, 85.3163082], [25.502641600000004, 85.3163082], [25.50264058391932, 85.31630785970877], [25.502620399999994, 85.31630109999999], [25.5025938, 85.3163004], [25.502590268778345, 85.31630129776838], [25.502570199999997, 85.3163064], [25.5025448, 85.3163252], [25.50254104482315, 85.31633085212502], [25.502508956956408, 85.3163791493259], [25.502506000000004, 85.3163836], [25.502490299999995, 85.3164566], [25.502487922918014, 85.31650988625667], [25.5024879, 85.31651040000001], [25.5024879, 85.31651040000001], [25.5017836, 85.3163479], [25.501760839413297, 85.31633770057209]],
                {"bubblingMouseEvents": true, "color": "blue", "dashArray": null, "dashOffset": null, "fill": false, "fillColor": "blue", "fillOpacity": 0.2, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "noClip": false, "opacity": 0.8, "smoothFactor": 1.0, "stroke": true, "weight": 5}
            ).addTo(map_29e5365beb7bb73ff89101fc6c47fbba);
        
    
            var circle_marker_1186df26b7d3d0ad43ce05e462087aec = L.circleMarker(
                [25.50341, 85.31640310000002],
                {"bubblingMouseEvents": true, "color": "red", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "red", "fillOpacity": 0.3, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 10, "stroke": true, "weight": 3}
            ).addTo(map_29e5365beb7bb73ff89101fc6c47fbba);
        
    
            var marker_00fb135546e75a68221264a64ea7c658 = L.marker(
                [25.50341, 85.31640310000002],
                {}
            ).addTo(map_29e5365beb7bb73ff89101fc6c47fbba);
        
    
            var icon_0848b418d73de1322c98189f01da8b71 = L.AwesomeMarkers.icon(
                {"extraClasses": "fa-rotate-0", "icon": "exclamation-triangle", "iconColor": "white", "markerColor": "red", "prefix": "fa"}
            );
            marker_00fb135546e75a68221264a64ea7c658.setIcon(icon_0848b418d73de1322c98189f01da8b71);
        
    
        var popup_5000e990efc4600e43c8c8ad2a31bd5c = L.popup({"maxWidth": "100%"});

        
            
                var html_7d48c32da941337ae54606da8083466b = $(`<div id="html_7d48c32da941337ae54606da8083466b" style="width: 100.0%; height: 100.0%;">                         <div style="font-family: Arial, sans-serif;">                             <h4 style="color: red;">⚠️ BLIND SPOT WARNING ⚠️</h4>                             <b>Turn Angle:</b> 90.6°<br>                             <b>Hazard Level:</b> High<br>                             <small>Exercise extreme caution!</small>                         </div>                     </div>`)[0];
                popup_5000e990efc4600e43c8c8ad2a31bd5c.setContent(html_7d48c32da941337ae54606da8083466b);
            
        

        marker_00fb135546e75a68221264a64ea7c658.bindPopup(popup_5000e990efc4600e43c8c8ad2a31bd5c)
        ;

        
    
    
            var circle_marker_1bc9ab9f25b2690db3e4becdb32ec7df = L.circleMarker(
                [25.5029355, 85.31631670000002],
                {"bubblingMouseEvents": true, "color": "red", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "red", "fillOpacity": 0.3, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 10, "stroke": true, "weight": 3}
            ).addTo(map_29e5365beb7bb73ff89101fc6c47fbba);
        
    
            var marker_5749c560968427ca12d6e3795f6d10ac = L.marker(
                [25.5029355, 85.31631670000002],
                {}
            ).addTo(map_29e5365beb7bb73ff89101fc6c47fbba);
        
    
            var icon_2b4337ff92f70c7c757f25694471ec33 = L.AwesomeMarkers.icon(
                {"extraClasses": "fa-rotate-0", "icon": "exclamation-triangle", "iconColor": "white", "markerColor": "red", "prefix": "fa"}
            );
            marker_5749c560968427ca12d6e3795f6d10ac.setIcon(icon_2b4337ff92f70c7c757f25694471ec33);
        
    
        var popup_b8668f8679348dd920ace8d1f96ee82a = L.popup({"maxWidth": "100%"});

        
            
                var html_ecfcacfb8b026984b95145aa95909901 = $(`<div id="html_ecfcacfb8b026984b95145aa95909901" style="width: 100.0%; height: 100.0%;">                         <div style="font-family: Arial, sans-serif;">                             <h4 style="color: red;">⚠️ BLIND SPOT WARNING ⚠️</h4>                             <b>Turn Angle:</b> 171.6°<br>                             <b>Hazard Level:</b> High<br>                             <small>Exercise extreme caution!</small>                         </div>                     </div>`)[0];
                popup_b8668f8679348dd920ace8d1f96ee82a.setContent(html_ecfcacfb8b026984b95145aa95909901);
            
        

        marker_5749c560968427ca12d6e3795f6d10ac.bindPopup(popup_b8668f8679348dd920ace8d1f96ee82a)
        ;

        
    
    
            var circle_marker_d2b8578621200cb9fdd31e7064cee04d = L.circleMarker(
                [25.5024879, 85.31651040000001],
                {"bubblingMouseEvents": true, "color": "red", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "red", "fillOpacity": 0.3, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 10, "stroke": true, "weight": 3}
            ).addTo(map_29e5365beb7bb73ff89101fc6c47fbba);
        
    
            var marker_72a13ac55bf2c48a867ac1c0733ab2a9 = L.marker(
                [25.5024879, 85.31651040000001],
                {}
            ).addTo(map_29e5365beb7bb73ff89101fc6c47fbba);
        
    
            var icon_ce4263582e5f03a08d28359378d4cbef = L.AwesomeMarkers.icon(
                {"extraClasses": "fa-rotate-0", "icon": "exclamation-triangle", "iconColor": "white", "markerColor": "red", "prefix": "fa"}
            );
            marker_72a13ac55bf2c48a867ac1c0733ab2a9.setIcon(icon_ce4263582e5f03a08d28359378d4cbef);
        
    
        var popup_ae363183d9ac23c4ccb54acf4d32b024 = L.popup({"maxWidth": "100%"});

        
            
                var html_dc29edcd851022d149f7d679619db075 = $(`<div id="html_dc29edcd851022d149f7d679619db075" style="width: 100.0%; height: 100.0%;">                         <div style="font-family: Arial, sans-serif;">                             <h4 style="color: red;">⚠️ BLIND SPOT WARNING ⚠️</h4>                             <b>Turn Angle:</b> 98.9°<br>                             <b>Hazard Level:</b> High<br>                             <small>Exercise extreme caution!</small>                         </div>                     </div>`)[0];
                popup_ae363183d9ac23c4ccb54acf4d32b024.setContent(html_dc29edcd851022d149f7d679619db075);
            
        

        marker_72a13ac55bf2c48a867ac1c0733ab2a9.bindPopup(popup_ae363183d9ac23c4ccb54acf4d32b024)
        ;

        
    
    
            var marker_e1225934bc9508d598e8fd57265f0004 = L.marker(
                [25.503382372806914, 85.3163726652772],
                {}
            ).addTo(map_29e5365beb7bb73ff89101fc6c47fbba);
        
    
            var icon_0d4efd06d65a92bec0b678aaf9c270fe = L.AwesomeMarkers.icon(
                {"extraClasses": "fa-rotate-0", "icon": "flag", "iconColor": "white", "markerColor": "green", "prefix": "fa"}
            );
            marker_e1225934bc9508d598e8fd57265f0004.setIcon(icon_0d4efd06d65a92bec0b678aaf9c270fe);
        
    
        var popup_456e13053717d9ef7e62a362708f8039 = L.popup({"maxWidth": "100%"});

        
            
                var html_c31e43a3be503eece225499df47b10b4 = $(`<div id="html_c31e43a3be503eece225499df47b10b4" style="width: 100.0%; height: 100.0%;">             <div style="font-family: Arial, sans-serif;">                 <h4>Route Information</h4>                 <b>Start:</b> A-1, Fatwah, Bihar 803201, India<br>                 <b>Distance:</b> 0.2 km<br>                 <b>Duration:</b> 1 min<br>                 <b>Total Turns:</b> 3<br>                 <b>Blind Spots:</b> 3<br>                 <small>Exercise caution at marked hazard points</small>             </div>         </div>`)[0];
                popup_456e13053717d9ef7e62a362708f8039.setContent(html_c31e43a3be503eece225499df47b10b4);
            
        

        marker_e1225934bc9508d598e8fd57265f0004.bindPopup(popup_456e13053717d9ef7e62a362708f8039)
        ;

        
    
    
            var marker_4959ab9cf269476b2dee97c5eb5d0a6e = L.marker(
                [25.5015926361084, 85.31678009033203],
                {}
            ).addTo(map_29e5365beb7bb73ff89101fc6c47fbba);
        
    
            var icon_8ae80518e6473a872c36916cba0c723e = L.AwesomeMarkers.icon(
                {"extraClasses": "fa-rotate-0", "icon": "flag-checkered", "iconColor": "white", "markerColor": "red", "prefix": "fa"}
            );
            marker_4959ab9cf269476b2dee97c5eb5d0a6e.setIcon(icon_8ae80518e6473a872c36916cba0c723e);
        
    
        var popup_f7466925d69b240b2df2193f39b58bb5 = L.popup({"maxWidth": "100%"});

        
            
                var html_fce225e280b0f1c13c9980634c0b0358 = $(`<div id="html_fce225e280b0f1c13c9980634c0b0358" style="width: 100.0%; height: 100.0%;">End: NS-A3, NS-A3, Fatwah, Bihar 803201, India</div>`)[0];
                popup_f7466925d69b240b2df2193f39b58bb5.setContent(html_fce225e280b0f1c13c9980634c0b0358);
            
        

        marker_4959ab9cf269476b2dee97c5eb5d0a6e.bindPopup(popup_f7466925d69b240b2df2193f39b58bb5)
        ;

        
    
</script>
</html>