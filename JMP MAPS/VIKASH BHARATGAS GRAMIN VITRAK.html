<!DOCTYPE html>
<html>
<head>
    
    <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
    
        <script>
            L_NO_TOUCH = false;
            L_DISABLE_3D = false;
        </script>
    
    <style>html, body {width: 100%;height: 100%;margin: 0;padding: 0;}</style>
    <style>#map {position:absolute;top:0;bottom:0;right:0;left:0;}</style>
    <script src="https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.js"></script>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap-glyphicons.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.0/css/all.min.css"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/python-visualization/folium/folium/templates/leaflet.awesome.rotate.min.css"/>
    
            <meta name="viewport" content="width=device-width,
                initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
            <style>
                #map_f7596b07d076d74b6acb1ac4c174fc8c {
                    position: relative;
                    width: 100.0%;
                    height: 100.0%;
                    left: 0.0%;
                    top: 0.0%;
                }
                .leaflet-container { font-size: 1rem; }
            </style>
        
</head>
<body>
    
    
            <div style="position: fixed; 
                        top: 10px; right: 10px; width: 150px;
                        border:2px solid grey; z-index:9999; font-size:14px;
                        background-color: white;
                        padding: 10px;
                        border-radius: 5px;">
                <h4 style="margin-bottom: 10px;">Legend</h4>
                <div style="margin-bottom: 5px;"><i class="fa fa-plus fa-lg" style="color:red"></i> Hospital</div>
                <div style="margin-bottom: 5px;"><i class="fa fa-shield fa-lg" style="color:blue"></i> Police</div>
                <div style="margin-bottom: 5px;"><i class="fa fa-gas-pump fa-lg" style="color:orange"></i> Gas Station</div>
                <div style="margin-bottom: 5px;"><i class="fa fa-train fa-lg" style="color:purple"></i> Train Station</div>
                <div style="margin-bottom: 5px;"><i class="fa fa-refresh fa-lg" style="color:orange"></i> Turn</div>
                <div style="margin-bottom: 5px;"><i class="fa fa-exclamation-triangle fa-lg" style="color:red"></i> Blind Spot</div>
                <div style="margin-bottom: 5px;"><i class="fa fa-flag fa-lg" style="color:green"></i> Start</div>
                <div><i class="fa fa-flag-checkered fa-lg" style="color:red"></i> End</div>
            </div>
        
    
        <div id="gps-tracking" style="
            position: fixed; 
            top: 10px; 
            right: 10px; 
            background: white; 
            padding: 10px; 
            border: 1px solid #ccc; 
            z-index: 1000; 
            font-family: Arial, sans-serif;
        ">
            <button id="start-tracking" style="
                background-color: green; 
                color: white; 
                border: none; 
                padding: 10px; 
                margin-bottom: 10px;
                cursor: pointer;
            ">Start Tracking</button>
            <div id="gps-status">GPS: Not Connected</div>
            <div id="gps-coordinates"></div>
            <div id="tracking-info"></div>
        </div>
        <script>
        function initGPS() {
            const startButton = document.getElementById('start-tracking');
            const gpsStatus = document.getElementById('gps-status');
            const gpsCoordinates = document.getElementById('gps-coordinates');
            const trackingInfo = document.getElementById('tracking-info');
            let userMarker = null;
            let trackingStarted = false;
            let trackingStartTime = null;
            let totalDistance = 0;
            let previousPosition = null;

            function updateGPSMarker(lat, lon) {
                if (!userMarker) {
                    userMarker = L.marker([lat, lon], {
                        icon: L.divIcon({
                            className: 'custom-gps-marker',
                            html: `<div style="
                                width: 30px; 
                                height: 30px; 
                                background-color: green; 
                                border-radius: 50%; 
                                border: 3px solid white;
                                box-shadow: 0 0 15px rgba(0,255,0,0.5);
                            "></div>`,
                            iconSize: [30, 30],
                            iconAnchor: [15, 15]
                        })
                    }).addTo(map);
                } else {
                    if (previousPosition && trackingStarted) {
                        const distanceMoved = L.latLng([lat, lon]).distanceTo(previousPosition);
                        totalDistance += distanceMoved;
                    }
                    
                    userMarker.setLatLng([lat, lon]);
                    previousPosition = L.latLng([lat, lon]);
                }
                
                map.setView([lat, lon], map.getZoom());
            }

            startButton.addEventListener('click', function() {
                if (!trackingStarted) {
                    trackingStarted = true;
                    trackingStartTime = new Date();
                    startButton.textContent = 'Stop Tracking';
                    startButton.style.backgroundColor = 'red';
                    trackingInfo.innerHTML = 'Tracking started...';
                } else {
                    trackingStarted = false;
                    const trackingDuration = (new Date() - trackingStartTime) / 1000 / 60;
                    trackingInfo.innerHTML = `
                        Tracking stopped<br>
                        Duration: ${trackingDuration.toFixed(2)} minutes<br>
                        Total Distance: ${(totalDistance / 1000).toFixed(2)} km
                    `;
                    startButton.textContent = 'Start Tracking';
                    startButton.style.backgroundColor = 'green';
                }
            });

            if ('geolocation' in navigator) {
                navigator.geolocation.watchPosition(
                    function(position) {
                        const lat = position.coords.latitude;
                        const lon = position.coords.longitude;
                        const accuracy = position.coords.accuracy;

                        updateGPSMarker(lat, lon);
                        
                        gpsStatus.innerHTML = 'GPS: Connected';
                        gpsCoordinates.innerHTML = `
                            Latitude: ${lat.toFixed(6)}<br>
                            Longitude: ${lon.toFixed(6)}<br>
                            Accuracy: ${accuracy.toFixed(2)} meters
                        `;

                        if (trackingStarted) {
                            trackingInfo.innerHTML = `
                                Tracking Active<br>
                                Total Distance: ${(totalDistance / 1000).toFixed(2)} km
                            `;
                        }
                    },
                    function(error) {
                        gpsStatus.innerHTML = `GPS Error: ${error.message}`;
                        console.error('Geolocation error:', error);
                    },
                    {
                        enableHighAccuracy: true,
                        maximumAge: 30000,
                        timeout: 27000
                    }
                );
            } else {
                gpsStatus.innerHTML = 'Geolocation not supported';
            }
        }

        map.whenReady(initGPS);
        </script>
        
    
            <div class="folium-map" id="map_f7596b07d076d74b6acb1ac4c174fc8c" ></div>
        
</body>
<script>
    
    
            var map_f7596b07d076d74b6acb1ac4c174fc8c = L.map(
                "map_f7596b07d076d74b6acb1ac4c174fc8c",
                {
                    center: [25.503382372806914, 85.3163726652772],
                    crs: L.CRS.EPSG3857,
                    zoom: 12,
                    zoomControl: true,
                    preferCanvas: false,
                }
            );

            

        
    
            var tile_layer_355bdfbfcb75b519982ce1fdd32c1e59 = L.tileLayer(
                "https://tile.openstreetmap.org/{z}/{x}/{y}.png",
                {"attribution": "\u0026copy; \u003ca href=\"https://www.openstreetmap.org/copyright\"\u003eOpenStreetMap\u003c/a\u003e contributors", "detectRetina": false, "maxNativeZoom": 19, "maxZoom": 19, "minZoom": 0, "noWrap": false, "opacity": 1, "subdomains": "abc", "tms": false}
            );
        
    
            tile_layer_355bdfbfcb75b519982ce1fdd32c1e59.addTo(map_f7596b07d076d74b6acb1ac4c174fc8c);
        
    
            var poly_line_ae541746a071c8314fae7c7164f6b2da = L.polyline(
                [[25.503410434271235, 85.31640007657212], [25.50341, 85.31640310000002], [25.50341, 85.31640310000002], [25.5031078, 85.316346], [25.5029355, 85.31631670000002], [25.5029355, 85.31631670000002], [25.502760266525797, 85.3162880022009], [25.5027572, 85.3162875], [25.502714899999994, 85.3162864], [25.5026765, 85.3162928], [25.502641600000004, 85.3163082], [25.502641600000004, 85.3163082], [25.50264058391932, 85.31630785970877], [25.502620399999994, 85.31630109999999], [25.5025938, 85.3163004], [25.502590268778345, 85.31630129776838], [25.502570199999997, 85.3163064], [25.5025448, 85.3163252], [25.50254104482315, 85.31633085212502], [25.502508956956408, 85.3163791493259], [25.502506000000004, 85.3163836], [25.502490299999995, 85.3164566], [25.502487922918014, 85.31650988625667], [25.5024879, 85.31651040000001], [25.5024879, 85.31651040000001], [25.5017836, 85.3163479], [25.50178116495328, 85.31634680881162], [25.501450499377018, 85.31619863204223], [25.501287299999998, 85.3161255], [25.501249168374105, 85.31611315261596], [25.501245299999997, 85.3161119], [25.501190082596004, 85.31610840030532]],
                {"bubblingMouseEvents": true, "color": "blue", "dashArray": null, "dashOffset": null, "fill": false, "fillColor": "blue", "fillOpacity": 0.2, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "noClip": false, "opacity": 0.8, "smoothFactor": 1.0, "stroke": true, "weight": 5}
            ).addTo(map_f7596b07d076d74b6acb1ac4c174fc8c);
        
    
            var circle_marker_181017e34ac550157bfd1217c7d5d50d = L.circleMarker(
                [25.50341, 85.31640310000002],
                {"bubblingMouseEvents": true, "color": "red", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "red", "fillOpacity": 0.3, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 10, "stroke": true, "weight": 3}
            ).addTo(map_f7596b07d076d74b6acb1ac4c174fc8c);
        
    
            var marker_2e517f19d92c561c23dde4d3d9284aa4 = L.marker(
                [25.50341, 85.31640310000002],
                {}
            ).addTo(map_f7596b07d076d74b6acb1ac4c174fc8c);
        
    
            var icon_589a5c86681b06f7e8e090184fcfe606 = L.AwesomeMarkers.icon(
                {"extraClasses": "fa-rotate-0", "icon": "exclamation-triangle", "iconColor": "white", "markerColor": "red", "prefix": "fa"}
            );
            marker_2e517f19d92c561c23dde4d3d9284aa4.setIcon(icon_589a5c86681b06f7e8e090184fcfe606);
        
    
        var popup_653e1c0303a051f42eedd8ad86a4a84c = L.popup({"maxWidth": "100%"});

        
            
                var html_57bc05bd471c6e50d79bed8160739b8f = $(`<div id="html_57bc05bd471c6e50d79bed8160739b8f" style="width: 100.0%; height: 100.0%;">                         <div style="font-family: Arial, sans-serif;">                             <h4 style="color: red;">⚠️ BLIND SPOT WARNING ⚠️</h4>                             <b>Turn Angle:</b> 90.6°<br>                             <b>Hazard Level:</b> High<br>                             <small>Exercise extreme caution!</small>                         </div>                     </div>`)[0];
                popup_653e1c0303a051f42eedd8ad86a4a84c.setContent(html_57bc05bd471c6e50d79bed8160739b8f);
            
        

        marker_2e517f19d92c561c23dde4d3d9284aa4.bindPopup(popup_653e1c0303a051f42eedd8ad86a4a84c)
        ;

        
    
    
            var circle_marker_e18c0804ca24ea86d51ba2601beeff73 = L.circleMarker(
                [25.5029355, 85.31631670000002],
                {"bubblingMouseEvents": true, "color": "red", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "red", "fillOpacity": 0.3, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 10, "stroke": true, "weight": 3}
            ).addTo(map_f7596b07d076d74b6acb1ac4c174fc8c);
        
    
            var marker_7e8f07bb355fd342dfbd2816a3236296 = L.marker(
                [25.5029355, 85.31631670000002],
                {}
            ).addTo(map_f7596b07d076d74b6acb1ac4c174fc8c);
        
    
            var icon_fd6980ea516f7e980e41fe374d873bae = L.AwesomeMarkers.icon(
                {"extraClasses": "fa-rotate-0", "icon": "exclamation-triangle", "iconColor": "white", "markerColor": "red", "prefix": "fa"}
            );
            marker_7e8f07bb355fd342dfbd2816a3236296.setIcon(icon_fd6980ea516f7e980e41fe374d873bae);
        
    
        var popup_76a6cb2e2794d90efedf6b4cb102d333 = L.popup({"maxWidth": "100%"});

        
            
                var html_d51d7551a5b525273840bbda994addc8 = $(`<div id="html_d51d7551a5b525273840bbda994addc8" style="width: 100.0%; height: 100.0%;">                         <div style="font-family: Arial, sans-serif;">                             <h4 style="color: red;">⚠️ BLIND SPOT WARNING ⚠️</h4>                             <b>Turn Angle:</b> 171.6°<br>                             <b>Hazard Level:</b> High<br>                             <small>Exercise extreme caution!</small>                         </div>                     </div>`)[0];
                popup_76a6cb2e2794d90efedf6b4cb102d333.setContent(html_d51d7551a5b525273840bbda994addc8);
            
        

        marker_7e8f07bb355fd342dfbd2816a3236296.bindPopup(popup_76a6cb2e2794d90efedf6b4cb102d333)
        ;

        
    
    
            var circle_marker_a985a21db229289b77fbc26a47cb781f = L.circleMarker(
                [25.5024879, 85.31651040000001],
                {"bubblingMouseEvents": true, "color": "red", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "red", "fillOpacity": 0.3, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 10, "stroke": true, "weight": 3}
            ).addTo(map_f7596b07d076d74b6acb1ac4c174fc8c);
        
    
            var marker_53dc658b52fe87820c142f2cbbc2d674 = L.marker(
                [25.5024879, 85.31651040000001],
                {}
            ).addTo(map_f7596b07d076d74b6acb1ac4c174fc8c);
        
    
            var icon_ca1744cefaf931d92a4ca6e91aa8a30e = L.AwesomeMarkers.icon(
                {"extraClasses": "fa-rotate-0", "icon": "exclamation-triangle", "iconColor": "white", "markerColor": "red", "prefix": "fa"}
            );
            marker_53dc658b52fe87820c142f2cbbc2d674.setIcon(icon_ca1744cefaf931d92a4ca6e91aa8a30e);
        
    
        var popup_a0b7cffc0454c220372f2ff6a6c26aaf = L.popup({"maxWidth": "100%"});

        
            
                var html_dfb7d40c04dc331974cfbc8760a37099 = $(`<div id="html_dfb7d40c04dc331974cfbc8760a37099" style="width: 100.0%; height: 100.0%;">                         <div style="font-family: Arial, sans-serif;">                             <h4 style="color: red;">⚠️ BLIND SPOT WARNING ⚠️</h4>                             <b>Turn Angle:</b> 98.9°<br>                             <b>Hazard Level:</b> High<br>                             <small>Exercise extreme caution!</small>                         </div>                     </div>`)[0];
                popup_a0b7cffc0454c220372f2ff6a6c26aaf.setContent(html_dfb7d40c04dc331974cfbc8760a37099);
            
        

        marker_53dc658b52fe87820c142f2cbbc2d674.bindPopup(popup_a0b7cffc0454c220372f2ff6a6c26aaf)
        ;

        
    
    
            var marker_84b756bf3a19ff34c0d58fda92564637 = L.marker(
                [25.503382372806914, 85.3163726652772],
                {}
            ).addTo(map_f7596b07d076d74b6acb1ac4c174fc8c);
        
    
            var icon_5ff78152519bd93004bca33c4fbbe608 = L.AwesomeMarkers.icon(
                {"extraClasses": "fa-rotate-0", "icon": "flag", "iconColor": "white", "markerColor": "green", "prefix": "fa"}
            );
            marker_84b756bf3a19ff34c0d58fda92564637.setIcon(icon_5ff78152519bd93004bca33c4fbbe608);
        
    
        var popup_37a18efeaaf282232099ad160ff4422a = L.popup({"maxWidth": "100%"});

        
            
                var html_adc125960a0b0205df3190fbb66cf93c = $(`<div id="html_adc125960a0b0205df3190fbb66cf93c" style="width: 100.0%; height: 100.0%;">             <div style="font-family: Arial, sans-serif;">                 <h4>Route Information</h4>                 <b>Start:</b> A-1, Fatwah, Bihar 803201, India<br>                 <b>Distance:</b> 0.3 km<br>                 <b>Duration:</b> 1 min<br>                 <b>Total Turns:</b> 3<br>                 <b>Blind Spots:</b> 3<br>                 <small>Exercise caution at marked hazard points</small>             </div>         </div>`)[0];
                popup_37a18efeaaf282232099ad160ff4422a.setContent(html_adc125960a0b0205df3190fbb66cf93c);
            
        

        marker_84b756bf3a19ff34c0d58fda92564637.bindPopup(popup_37a18efeaaf282232099ad160ff4422a)
        ;

        
    
    
            var marker_c79ae60e40e20aea38456eac8ec81453 = L.marker(
                [25.501190185546875, 85.31610870361328],
                {}
            ).addTo(map_f7596b07d076d74b6acb1ac4c174fc8c);
        
    
            var icon_1626c60f709d0e7848225b973e4a5670 = L.AwesomeMarkers.icon(
                {"extraClasses": "fa-rotate-0", "icon": "flag-checkered", "iconColor": "white", "markerColor": "red", "prefix": "fa"}
            );
            marker_c79ae60e40e20aea38456eac8ec81453.setIcon(icon_1626c60f709d0e7848225b973e4a5670);
        
    
        var popup_05a22765f2ab5316ccfb301f0d4826d4 = L.popup({"maxWidth": "100%"});

        
            
                var html_fc6a41c615fedda1e60c4807594e0897 = $(`<div id="html_fc6a41c615fedda1e60c4807594e0897" style="width: 100.0%; height: 100.0%;">End: NS-A3, NS-A3, Fatwah, Bihar 803201, India</div>`)[0];
                popup_05a22765f2ab5316ccfb301f0d4826d4.setContent(html_fc6a41c615fedda1e60c4807594e0897);
            
        

        marker_c79ae60e40e20aea38456eac8ec81453.bindPopup(popup_05a22765f2ab5316ccfb301f0d4826d4)
        ;

        
    
</script>
</html>